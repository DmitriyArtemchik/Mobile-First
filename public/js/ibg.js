(function(root,undefined){if(!Array.prototype.map){Array.prototype.map=function(callback,thisArg){var T,A,k;if(this == null){throw new TypeError(" this is null or not defined");}var O=Object(this);var len=O.length>>>0;if(typeof callback!=="function"){throw new TypeError(callback+" is not a function");}if(thisArg){T=thisArg;}A=new Array(len);k=0;while(k<len){var kValue,mappedValue;if(kinO){kValue=O[k];mappedValue=callback.call(T,kValue,k,O);A[k]=mappedValue;}k++;}return A;};}var detect=root.detect=function(){var _this=function(){};var regexes={browser_parsers:[{regex:"Trident(.*)rv.(\\d+)\\.(\\d+)",family_replacement:"IE"},{regex:"(MSIE)(\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[{regex:"(Linux|BSD)",other:true}],mobile_os_families:["Windows Phone 6.5"],device_parsers:[{regex:"(HTC)",manufacturer:"HTC"}],mobile_browser_families:["Firefox Mobile"]};_this.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"];_this.types=["browser","os","device"];_this.regexes=regexes||function(){var results={};_this.parsers.map(function(parser){results[parser]=[];});return results;}();_this.families=function(){var results={};_this.types.map(function(type){results[type]=[];});return results;}();var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,nativeForEach=ArrayProto.forEach,nativeIndexOf=ArrayProto.indexOf;var find=function(ua,obj){var ret={};for(var i=0;i<obj.length;i++){ret=obj[i](ua);if(ret){break;}}return ret;};var remove=function(arr,props){each(arr,function(obj){each(props,function(prop){delete obj[prop];});});};var contains=function(obj,target){var found=false;if(obj==null)return found;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return obj.indexOf(target)!= -1;found=any(obj,function(value){return value===target;});return found;};var each=forEach=function(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context);}else if(obj.length=== +obj.length){for(var i=0,l=obj.length;i<l;i++){iterator.call(context,obj[i],i,obj);}}else{for(var key in obj){if(_.has(obj,key)){iterator.call(context,obj[key],key,obj);}}}};var extend=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){obj[prop]=source[prop];}});return obj;};var check=function(str){return !!(str&&typeof str!="undefined"&&str!=null);};var toVersionString=function(obj){var output="";obj=obj||{};if(check(obj)){if(check(obj.major)){output+=obj.major;if(check(obj.minor)){output+="."+obj.minor;if(check(obj.patch)){output+="."+obj.patch;}}}}return output;};var toString=function(obj){obj=obj||{};var suffix=toVersionString(obj);if(suffix)suffix=" "+suffix;return obj&&check(obj.family)?obj.family+suffix:"";};_this.parse=function(ua){var parsers=function(type){return _this.regexes[type+"_parsers"].map(function(obj){var regexp=new RegExp(obj.regex),rep=obj[(type==="browser"?"family":type)+"_replacement"],major_rep=obj.major_version_replacement;function parser(ua){var m=ua.match(regexp);if(!m)return null;var ret={};ret.family=(rep?rep.replace("$1",m[1]):m[1])||"other";ret.major=parseInt(major_rep?major_rep:m[2])||null;ret.minor=m[3]?parseInt(m[3]):null;ret.patch=m[4]?parseInt(m[4]):null;ret.tablet=obj.tablet;ret.man=obj.manufacturer||null;return ret;}return parser;});};var UserAgent=function(){};var browser_parsers=parsers("browser");var os_parsers=parsers("os");var device_parsers=parsers("device");var a=new UserAgent();a.source=ua;a.browser=find(ua,browser_parsers);if(check(a.browser)){a.browser.name=toString(a.browser);a.browser.version=toVersionString(a.browser);}else{a.browser={};}a.os=find(ua,os_parsers);if(check(a.os)){a.os.name=toString(a.os);a.os.version=toVersionString(a.os);}else{a.os={};}a.device=find(ua,device_parsers);if(check(a.device)){a.device.name=toString(a.device);a.device.version=toVersionString(a.device);}else{a.device={tablet:false,family:"Other"};}var mobile_agents={};var mobile_browser_families=_this.regexes.mobile_browser_families.map(function(str){mobile_agents[str]=true;});var mobile_os_families=_this.regexes.mobile_os_families.map(function(str){mobile_agents[str]=true;});if(a.browser.family==="Spider"){a.device.type="Spider";}else if(a.browser.tablet||a.os.tablet||a.device.tablet){a.device.type="Tablet";}else if(mobile_agents.hasOwnProperty(a.browser.family)){a.device.type="Mobile";}else{a.device.type="Desktop";}a.device.manufacturer=a.browser.man||a.os.man||a.device.man||null;remove([a.browser,a.os,a.device],["tablet","man"]);return a;};return _this;}();if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=detect;}exports.detect=detect;}else{root["detect"]=detect;}if(typeof define==="function"&&define.amd){define(function(require){return detect;});}})(window);var ua=detect.parse(navigator.userAgent);if(ua.browser.name==='IE 11'){var imNone=document.querySelectorAll(".imgNone"),arrImNone=Array.prototype.slice.call(imNone);arrImNone.forEach(function(elem){elem.classList.remove('imgIE11');elem.classList.add("disp-none");});var ibg=document.querySelectorAll(".ibg");for(var tyu=0;tyu<ibg.length;tyu++){if(ibg[tyu].querySelector('img')){ibg[tyu].style.backgroundImage='url('+ibg[tyu].querySelector('img').getAttribute('src')+')';}}}
